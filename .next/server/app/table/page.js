(()=>{var e={};e.id=8407,e.ids=[8407],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},28209:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(632),s(47378),s(35866);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["table",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,632)),"/Users/schne1s/Documents/KI_PAGE/src/app/table/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,47378)),"/Users/schne1s/Documents/KI_PAGE/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/schne1s/Documents/KI_PAGE/src/app/table/page.tsx"],x="/table/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/table/page",pathname:"/table",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},28540:(e,t,s)=>{Promise.resolve().then(s.bind(s,51509))},51509:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(10326),r=s(17577),i=s(58015);function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[n,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),[x,p]=(0,r.useState)([]),[m,u]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),y=async(e,t)=>{d(!0);try{let s=t?`/api/leagues/${e}/table?matchday=${t}`:`/api/leagues/${e}/table`,a=await fetch(s);if(a.ok){let e=await a.json();c(e)}}catch(e){console.error("Error fetching table data:",e)}finally{d(!1)}},f=async e=>{let t=parseInt(e.target.value);l(t),u(null);try{await fetch("/api/leagues/active",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueId:t})})}catch(e){console.error("Error setting active league:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Tabelle"}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"leagueSelect",className:"block text-sm font-medium text-gray-700 mb-1",children:"Liga ausw\xe4hlen:"}),(0,a.jsxs)("select",{id:"leagueSelect",value:s||"",onChange:f,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",disabled:!0,children:"Liga ausw\xe4hlen"}),e.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"mb-6 flex items-center",children:[a.jsx("label",{htmlFor:"matchdaySelect",className:"block text-sm font-medium text-gray-700 mr-2",children:"Spieltag:"}),(0,a.jsxs)("select",{id:"matchdaySelect",value:m||"",onChange:e=>{let t=e.target.value,a=t?parseInt(t):null;u(a),s&&y(s,a||void 0)},className:"block w-40 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Alle Spieltage"}),x.map(e=>a.jsx("option",{value:e,children:`Spieltag ${e}`},e))]})]}),o?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):n.length>0?a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platz"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spiele"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punkte"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S\xe4tze"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diff."}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"B\xe4lle"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diff."})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.teamName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:e.played}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:e.won}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:e.lost}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:e.points}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:[e.setsWon,":",e.setsLost]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:[e.setsDiff>0?"+":"",e.setsDiff]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:[e.pointsWon,":",e.pointsLost]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:[e.pointsDiff>0?"+":"",e.pointsDiff]})]},e.teamId))})]})}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center text-gray-500",children:s?"Keine Tabellendaten verf\xfcgbar.":"Bitte w\xe4hlen Sie eine Liga aus."}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("button",{onClick:()=>g(!h),className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-left text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-50",children:[a.jsx("span",{children:"Informationen zur Sortierreihenfolge"}),a.jsx("svg",{className:`w-5 h-5 transform ${h?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h&&(0,a.jsxs)("div",{className:"mt-2 p-4 text-sm text-gray-600 bg-gray-50 rounded-md border border-gray-200",children:[a.jsx("p",{className:"font-medium mb-2",children:"Die Tabelle wird nach folgenden Kriterien sortiert:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Punkte"}),a.jsx("li",{children:"Satzdifferenz"}),a.jsx("li",{children:"Satzquotient"}),a.jsx("li",{children:"Direkter Vergleich"}),a.jsx("li",{children:"Balldifferenz"}),a.jsx("li",{children:"Ballquotient"}),a.jsx("li",{children:"Anzahl der Siege"})]})]})]})]})]})}},632:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/schne1s/Documents/KI_PAGE/src/app/table/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,6387,9924,3624],()=>s(28209));module.exports=a})();