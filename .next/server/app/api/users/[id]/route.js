(()=>{var e={};e.id=1380,e.ids=[1380],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},6074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{DELETE:()=>c,PUT:()=>l});var a=r(49303),n=r(88716),i=r(60670),u=r(87070),o=r(13538),d=r(42023),p=r.n(d);async function c(e,{params:t}){let r=parseInt(t.id);try{return await o.prisma.user.delete({where:{id:r}}),u.NextResponse.json({message:"Benutzer erfolgreich gel\xf6scht"})}catch(e){return console.error("Error deleting user:",e),u.NextResponse.json({message:"Fehler beim L\xf6schen des Benutzers"},{status:500})}}async function l(e,{params:t}){let r=parseInt(t.id),{email:s,name:a,password:n,isAdmin:i,teamIds:d}=await e.json();try{return await o.prisma.$transaction(async e=>{let t={email:s,name:a,isAdmin:i};if(n){let e=await p().hash(n,10);t.password=e}if(await e.user.update({where:{id:r},data:t}),await e.userTeam.deleteMany({where:{userId:r}}),d&&d.length>0)for(let t of d)await e.userTeam.create({data:{userId:r,teamId:t}});let o=await e.user.findUnique({where:{id:r},include:{teams:{include:{team:{select:{id:!0,name:!0}}}}}}),c={...o,teams:o?.teams.map(e=>({id:e.team.id,name:e.team.name}))};return u.NextResponse.json(c)})}catch(e){return console.error("Error updating user:",e),u.NextResponse.json({message:"Fehler beim Aktualisieren des Benutzers"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/users/[id]/route",pathname:"/api/users/[id]",filename:"route",bundlePath:"app/api/users/[id]/route"},resolvedPagePath:"/Users/schne1s/Documents/KI_PAGE/src/app/api/users/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:w}=m,x="/api/users/[id]/route";function f(){return(0,i.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}},13538:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,2023],()=>r(6074));module.exports=s})();