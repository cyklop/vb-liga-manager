"use strict";(()=>{var e={};e.id=2940,e.ids=[2940],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},90438:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var s={};r.r(s),r.d(s,{GET:()=>l});var a=r(49303),i=r(88716),n=r(60670),u=r(87070),o=r(83493);async function l(e,{params:t}){let r=parseInt(t.id);if(isNaN(r))return u.NextResponse.json({message:"Ung\xfcltige Liga-ID"},{status:400});let s="true"===new URL(e.url).searchParams.get("upcoming");try{let e={where:{leagueId:r},include:{homeTeam:{select:{id:!0,name:!0}},awayTeam:{select:{id:!0,name:!0}}},orderBy:[{matchday:"asc"},{order:"asc"}]};if(s){let t=new Date;t.setHours(0,0,0,0),e.where={...e.where,OR:[{fixtureDate:{gte:t}},{homeSets:null},{awaySets:null}]}}let t=await o.Z.fixture.findMany(e);return u.NextResponse.json(t)}catch(e){return console.error("Error fetching fixtures:",e),u.NextResponse.json({message:"Fehler beim Abrufen der Spielpaarungen"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/leagues/[id]/fixtures/route",pathname:"/api/leagues/[id]/fixtures",filename:"route",bundlePath:"app/api/leagues/[id]/fixtures/route"},resolvedPagePath:"/Users/schne1s/Documents/KI_PAGE/src/app/api/leagues/[id]/fixtures/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m}=p,g="/api/leagues/[id]/fixtures/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},83493:(e,t,r)=>{r.d(t,{Z:()=>i,_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient({}),i=a}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972],()=>r(90438));module.exports=s})();