(()=>{var e={};e.id=5599,e.ids=[5599],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70403:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>m,routeModule:()=>u,tree:()=>o}),t(20665),t(47378),t(35866);var a=t(23191),n=t(88716),r=t(37922),i=t.n(r),l=t(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["team",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,20665)),"/Users/schne1s/Documents/KI_PAGE/src/app/team/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,47378)),"/Users/schne1s/Documents/KI_PAGE/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/schne1s/Documents/KI_PAGE/src/app/team/page.tsx"],c="/team/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/team/page",pathname:"/team",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},74389:(e,s,t)=>{Promise.resolve().then(t.bind(t,2980))},2980:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(10326),n=t(17577),r=t(58015),i=t(35047);function l(){let[e,s]=(0,n.useState)(null),[t,l]=(0,n.useState)([]),[d,o]=(0,n.useState)(null),[m,c]=(0,n.useState)({}),[x,u]=(0,n.useState)(!0),[h,g]=(0,n.useState)(null),[p,b]=(0,n.useState)(null),[y,f]=(0,n.useState)({location:"",hallAddress:"",trainingTimes:""});(0,i.useRouter)();let[j,v]=(0,n.useState)({homeSets:"",awaySets:"",homePoints:"",awayPoints:"",fixtureDate:""}),N=e=>{b(e),f({location:e.location,hallAddress:e.hallAddress,trainingTimes:e.trainingTimes})},w=()=>{b(null)},S=e=>{let{name:s,value:t}=e.target;f({...y,[s]:t})},P=async e=>{if(e.preventDefault(),p)try{let e=await fetch(`/api/teams/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.name,location:y.location,hallAddress:y.hallAddress,trainingTimes:y.trainingTimes})});if(e.ok)l(e=>e.map(e=>e.id===p.id?{...e,location:y.location,hallAddress:y.hallAddress,trainingTimes:y.trainingTimes}:e)),b(null);else{let s=await e.json();alert(`Fehler beim Speichern: ${s.message}`)}}catch(e){console.error("Error updating team:",e),alert("Ein Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut.")}},k=async e=>{u(!0);try{let s=await fetch(`/api/teams/${e}/fixtures?homeOnly=true`);if(s.ok){let t=await s.json();c(s=>({...s,[e]:t}))}}catch(e){console.error("Error fetching home fixtures:",e)}finally{u(!1)}},A=e=>{g(e),v({homeSets:e.homeSets?.toString()||"",awaySets:e.awaySets?.toString()||"",homePoints:e.homePoints?.toString()||"",awayPoints:e.awayPoints?.toString()||"",fixtureDate:e.fixtureDate||""})},T=()=>{g(null)},C=e=>{let{name:s,value:t}=e.target;v({...j,[s]:t})},D=async e=>{if(e.preventDefault(),h)try{let e=await fetch(`/api/fixtures/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({homeTeamId:h.homeTeamId,awayTeamId:h.awayTeamId,homeSets:j.homeSets?parseInt(j.homeSets):null,awaySets:j.awaySets?parseInt(j.awaySets):null,homePoints:j.homePoints?parseInt(j.homePoints):null,awayPoints:j.awayPoints?parseInt(j.awayPoints):null,fixtureDate:j.fixtureDate||null})});if(e.ok)h&&k(h.homeTeamId),g(null);else{let s=await e.json();alert(`Fehler beim Speichern: ${s.message}`)}}catch(e){console.error("Error updating fixture:",e),alert("Ein Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut.")}},_=e=>e?new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"Datum N/A";return e?t.length>0||x?(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Meine Mannschaften"}),t.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"team-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mannschaft ausw\xe4hlen:"}),a.jsx("select",{id:"team-select",value:d||"",onChange:e=>o(Number(e.target.value)),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:t.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))})]}),t.filter(e=>!d||e.id===d).map(e=>(0,a.jsxs)("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:e.name}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-8",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Mannschaftsdetails"}),!p&&a.jsx("button",{onClick:()=>N(e),className:"p-1 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-100 rounded dark:text-foreground dark:hover:bg-muted",title:"Team bearbeiten",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]}),p?.id===e.id?a.jsx("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("form",{onSubmit:P,className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ort"}),a.jsx("input",{type:"text",name:"location",value:y.location,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hallenadresse"}),a.jsx("input",{type:"text",name:"hallAddress",value:y.hallAddress,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trainingszeiten"}),a.jsx("textarea",{name:"trainingTimes",value:y.trainingTimes,onChange:S,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Abbrechen"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Speichern"})]})]})}):a.jsx("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("dl",{children:[(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.name})]}),(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Ort"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.location})]}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Hallenadresse"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.hallAddress})]}),(0,a.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Trainingszeiten"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.trainingTimes})]})]})})]}),a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Heimspiele verwalten"}),x?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):m[e.id]&&m[e.id].length>0?a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md mb-8",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:m[e.id].map(e=>a.jsx("li",{className:"px-4 py-4 sm:px-6",children:h?.id===e.id?(0,a.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:e.homeTeam.name}),a.jsx("span",{className:"mx-2",children:"vs"}),a.jsx("span",{className:"font-medium",children:e.awayTeam.name}),e.matchday&&(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(Spieltag ",e.matchday,")"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum"}),a.jsx("input",{type:"date",name:"fixtureDate",value:j.fixtureDate,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\xe4tze Heim"}),a.jsx("input",{type:"number",name:"homeSets",min:"0",max:"3",value:j.homeSets,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\xe4tze Gast"}),a.jsx("input",{type:"number",name:"awaySets",min:"0",max:"3",value:j.awaySets,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"B\xe4lle Heim"}),a.jsx("input",{type:"number",name:"homePoints",min:"0",value:j.homePoints,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"B\xe4lle Gast"}),a.jsx("input",{type:"number",name:"awayPoints",min:"0",value:j.awayPoints,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Abbrechen"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Speichern"})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:e.homeTeam.name}),a.jsx("span",{className:"mx-2",children:"vs"}),a.jsx("span",{className:"font-medium",children:e.awayTeam.name}),e.matchday&&(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(Spieltag ",e.matchday,")"]})]}),a.jsx("div",{className:"mt-1 text-sm text-gray-500",children:_(e.fixtureDate)})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[null!==e.homeSets&&null!==e.awaySets?(0,a.jsxs)("div",{className:"text-sm font-semibold mr-4",children:[e.homeSets," : ",e.awaySets,null!==e.homePoints&&null!==e.awayPoints&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(B\xe4lle: ",e.homePoints," : ",e.awayPoints,")"]})]}):a.jsx("div",{className:"text-sm text-gray-500 mr-4",children:"Ergebnis ausstehend"}),a.jsx("button",{onClick:()=>A(e),className:"p-1 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-100 rounded dark:text-foreground dark:hover:bg-muted",title:"Spielpaarung bearbeiten",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]})]})},e.id))})}):(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center text-gray-500 mb-8",children:["Keine Heimspiele f\xfcr ",e.name," gefunden."]})]},e.id))]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Meine Mannschaften"}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center text-gray-500",children:"Sie sind keiner Mannschaft zugeordnet. Bitte kontaktieren Sie einen Administrator."})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})})]})}},20665:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/schne1s/Documents/KI_PAGE/src/app/team/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,6387,9924,3624],()=>t(70403));module.exports=a})();